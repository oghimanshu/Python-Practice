<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Analysis with Python</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- 
    Faculty: Himanshu Gaur
    Updates: 
    - FIXED: Header is now persistent (visible on Home) so Toggle is always available.
    - FIXED: Header background color adapts to Dark Mode (Translucent Black) so white text is visible.
    - FIXED: Hero Section Text Box forced to White Background + Dark Text for guaranteed contrast.
    - ADDED: Sidebar Toggle for redundancy.
    -->

    <style>
        :root {
            --bg-body: #f8fafc;
            --bg-panel: #ffffff;
            --bg-sidebar: #ffffff;
            --bg-header-trans: rgba(255, 255, 255, 0.9); /* Light mode header */
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --text-heading: #0f172a;
            --border-color: #e2e8f0;
            --code-bg: #0f172a;
            --code-text: #f1f5f9;
            --accent-color: #2563eb;
            --accent-hover: #1d4ed8;
            --chart-text: #64748b;
            --chart-grid: #e2e8f0;
        }

        /* AMOLED Dark Mode */
        .dark {
            --bg-body: #000000;
            --bg-panel: #0a0a0a;
            --bg-sidebar: #000000;
            --bg-header-trans: rgba(10, 10, 10, 0.9); /* Dark mode header */
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --text-heading: #f8fafc;
            --border-color: #333333;
            --code-bg: #111111;
            --code-text: #e2e8f0;
            --accent-color: #3b82f6;
            --accent-hover: #60a5fa;
            --chart-text: #94a3b8;
            --chart-grid: #333333;
        }

        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: var(--bg-body);
            color: var(--text-primary);
            transition: background-color 0.3s, color 0.3s;
        }
        
        /* Forced Overrides for Tailwind classes to support Dynamic Theming */
        .bg-white { background-color: var(--bg-panel) !important; }
        .bg-slate-50 { background-color: var(--bg-body) !important; }
        .border-slate-200 { border-color: var(--border-color) !important; }
        /* Note: We DO NOT force text colors globally anymore to allow specific overrides like the Hero Box */
        body .text-slate-900 { color: var(--text-heading); }
        body .text-slate-800 { color: var(--text-primary); }
        body .text-slate-600 { color: var(--text-secondary); }
        body .text-slate-500 { color: var(--text-secondary); }

        /* Navigation Styling */
        .nav-link {
            display: block;
            padding: 0.6rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s;
            font-weight: 500;
            color: var(--text-secondary);
        }
        .nav-link:hover {
            background-color: var(--border-color);
            color: var(--text-primary);
            transform: translateX(4px);
        }
        .nav-link.active {
            background-color: var(--accent-color);
            color: white;
            font-weight: 600;
            transform: translateX(4px);
            box-shadow: 0 4px 6px -1px rgba(37, 99, 235, 0.2);
        }

        /* Content Typography */
        .topic-panel h2 {
            font-size: 2.25rem;
            font-weight: 800;
            margin-bottom: 1.5rem;
            color: var(--text-heading);
            letter-spacing: -0.025em;
            line-height: 1.2;
        }
        .topic-panel h3 {
            font-size: 1.5rem;
            font-weight: 700;
            margin-top: 3rem;
            margin-bottom: 1rem;
            color: var(--text-heading);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 0.5rem;
        }
        .topic-panel h4 {
            font-size: 1.125rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }
        .topic-panel p, .topic-panel li {
            font-size: 1.05rem;
            line-height: 1.75;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }
        .topic-panel ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin-bottom: 1.5rem;
        }

        /* Header Specifics - Adaptive Background */
        #main-header {
            background-color: var(--bg-header-trans) !important;
            backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border-color);
        }

        /* Hero Box Specifics - FORCED WHITE (High Contrast) */
        .hero-box-force-white {
            background-color: rgba(255, 255, 255, 0.95) !important;
            color: #0f172a !important; /* Force dark text */
        }
        .hero-box-force-white h1, 
        .hero-box-force-white p, 
        .hero-box-force-white span {
            color: #0f172a !important;
        }
        .hero-box-force-white .text-blue-600 {
            color: #2563eb !important;
        }
        .hero-box-force-white button {
            color: #ffffff !important; /* Button text stays white */
        }

        /* Code Blocks */
        pre {
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: 1.25rem;
            border-radius: 0 0 0.75rem 0.75rem;
            overflow-x: auto;
            font-size: 0.875rem;
            line-height: 1.6;
            border: 1px solid var(--border-color);
            margin-bottom: 2rem;
        }
        code {
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
        }

        /* Elaborated Explanation Box */
        .code-explanation {
            background-color: rgba(37, 99, 235, 0.05); /* Transparent blue tint */
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--accent-color);
            border-radius: 0.75rem 0.75rem 0 0;
            padding: 1.5rem;
            margin-bottom: 0;
        }
        .code-explanation h5 {
            font-weight: 800;
            color: var(--accent-color);
            margin-bottom: 0.5rem;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-top: 1.25rem;
        }
        .code-explanation h5:first-child {
            margin-top: 0;
        }
        .code-explanation p {
            margin-bottom: 0;
            color: var(--text-primary);
            font-size: 0.95rem;
            line-height: 1.5;
        }
        
        /* Simple English Section Highlight */
        .simple-english {
            background-color: var(--bg-panel);
            padding: 0.75rem;
            border-radius: 0.5rem;
            border: 1px solid var(--border-color);
            margin-bottom: 1rem;
            color: var(--accent-color);
            font-weight: 500;
            display: flex;
            align-items: flex-start;
            gap: 0.5rem;
        }
        .simple-english::before {
            content: "üí°";
            font-size: 1.25rem;
            line-height: 1;
        }
        
        /* Practice Challenge Box */
        .practice-box {
            background-color: rgba(34, 197, 94, 0.1); /* Green tint */
            border: 1px dashed #16a34a;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
            margin-bottom: 2rem;
        }
        .practice-box h5 {
            color: #16a34a;
            font-weight: 700;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .practice-box p {
            color: var(--text-primary);
        }
        
        /* New Syntax List Style */
        .syntax-list {
            list-style-type: disc;
            padding-left: 1.25rem;
            margin-top: 0.25rem;
            color: var(--text-primary);
            font-size: 0.9rem;
        }
        .syntax-list li {
            margin-bottom: 0.4rem;
        }
        .syntax-list code {
            background-color: rgba(125, 125, 125, 0.2);
            padding: 0.1rem 0.3rem;
            border-radius: 0.2rem;
            font-weight: 700;
            color: var(--text-heading);
        }

        /* Terminal Output Simulator */
        .output-block {
            background-color: #111111; /* Always dark for terminal feel */
            color: #4ade80;
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            padding: 1rem;
            border-radius: 0.5rem;
            border-left: 4px solid #10b981;
            margin-top: -1.5rem;
            margin-bottom: 3rem;
            font-size: 0.8rem;
            overflow-x: auto;
            white-space: pre;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3);
        }
        .output-label {
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #94a3b8;
            margin-bottom: 0.5rem;
            display: block;
            font-weight: bold;
            border-bottom: 1px solid #333;
            padding-bottom: 4px;
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            width: 100%;
            margin: 2rem auto;
            height: 400px;
            background: var(--bg-panel);
            padding: 1rem;
            border-radius: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--border-color);
        }

        /* Copy Button */
        .copy-btn {
            background-color: var(--border-color);
            color: var(--text-primary);
            border: none;
            padding: 0.35rem 0.75rem;
            font-size: 0.75rem;
            font-weight: 600;
            border-radius: 0.375rem;
            cursor: pointer;
            transition: background-color 0.2s;
            float: right;
            margin-top: -2.5rem;
            margin-right: 0.5rem;
            z-index: 10;
            position: relative;
        }
        .copy-btn:hover {
            background-color: var(--accent-color);
            color: white;
        }

        /* Home Page Hero */
        .hero-bg {
            background: linear-gradient(rgba(15, 23, 42, 0.6), rgba(15, 23, 42, 0.6)), url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80');
            background-size: cover;
            background-position: center;
        }
        
        /* FAQ Styles */
        details > summary {
            list-style: none;
            color: var(--text-heading);
        }
        details > summary::-webkit-details-marker {
            display: none;
        }

        /* Next Button Styling */
        .next-btn-container {
            margin-top: 3rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: flex-end;
        }
        .next-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--accent-color);
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.2s;
            cursor: pointer;
            background: none;
            border: none;
        }
        .next-btn:hover {
            color: var(--accent-hover);
            transform: translateX(4px);
        }

        /* Dark Mode Toggle */
        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            color: var(--text-primary);
            transition: background 0.2s;
        }
        .theme-toggle:hover {
            background: var(--border-color);
        }

        /* Mobile Sidebar Toggle */
        @media (max-width: 768px) {
            #sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease-in-out;
                position: fixed;
                top: 0;
                left: 0;
                height: 100%;
                z-index: 50;
                background-color: var(--bg-sidebar);
            }
            #sidebar.open {
                transform: translateX(0);
            }
            #overlay.open {
                display: block;
            }
        }
    </style>
</head>
<body class="text-slate-800">

    <!-- Mobile Header -->
    <div class="md:hidden bg-white p-4 border-b border-slate-200 flex justify-between items-center sticky top-0 z-40">
        <a href="#" onclick="switchTopic('home'); return false;" class="font-bold text-blue-700 text-lg">Data Analysis</a>
        <div class="flex items-center gap-2">
             <button id="mobile-theme-toggle" class="theme-toggle" aria-label="Toggle Dark Mode">
                <svg class="w-5 h-5 sun-icon hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                <svg class="w-5 h-5 moon-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
            </button>
            <button id="menu-btn" class="text-slate-700 focus:outline-none" style="color: var(--text-primary);">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
        </div>
    </div>

    <div class="flex flex-col md:flex-row h-screen overflow-hidden">
        
        <!-- Overlay for mobile -->
        <div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden md:hidden"></div>

        <!-- Sidebar Navigation -->
        <nav id="sidebar" class="w-64 md:w-1/5 h-full bg-white border-r border-slate-200 p-6 flex flex-col overflow-y-auto z-50 shadow-lg md:static md:translate-x-0">
            <div class="flex justify-between items-center mb-8">
                <a href="#" id="home-link" class="block group">
                    <h1 class="text-xl font-extrabold text-blue-700 group-hover:text-blue-800 transition-colors tracking-tight">Data Analysis<br>with Python</h1>
                </a>
                <button id="close-menu" class="md:hidden text-slate-400 hover:text-slate-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            
            <div class="space-y-6 flex-grow">
                <!-- Links (Same as previous) -->
                <div>
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-3">Module 1: Principles</h3>
                    <ul class="space-y-1">
                        <li><a href="#" class="nav-link" data-topic="topic1">Topic 1: Data Ingestion</a></li>
                        <li><a href="#" class="nav-link" data-topic="topic2">Topic 2: NumPy Ops</a></li>
                        <li><a href="#" class="nav-link" data-topic="topic3">Topic 3: Advanced Slicing</a></li>
                        <li><a href="#" class="nav-link" data-topic="topic4">Topic 4: Array Metadata</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-3">Module 2: Aggregation</h3>
                    <ul class="space-y-1">
                        <li><a href="#" class="nav-link" data-topic="topic5">Topic 5: DataFrames</a></li>
                        <li><a href="#" class="nav-link" data-topic="topic6">Topic 6: Basic GroupBy</a></li>
                        <li><a href="#" class="nav-link" data-topic="topic7">Topic 7: Multi-Aggregation</a></li>
                        <li><a href="#" class="nav-link" data-topic="merging">Topic 7b: Merging Data</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-3">Module 3: Analysis</h3>
                    <ul class="space-y-1">
                        <li><a href="#" class="nav-link" data-topic="topic8">Topic 8: Data Integrity</a></li>
                        <li><a href="#" class="nav-link" data-topic="topic9">Topic 9: WEO Case Study</a></li>
                        <li><a href="#" class="nav-link" data-topic="topic10">Topic 10: Trade Case Study</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-3">Module 4: Advanced</h3>
                    <ul class="space-y-1">
                        <li><a href="#" class="nav-link" data-topic="viz">Advanced Visualisation</a></li>
                        <li><a href="#" class="nav-link" data-topic="kendrick">Data Storytelling: Kendrick</a></li>
                        <li><a href="#" class="nav-link" data-topic="grammy">Capstone: Grammy Analytics</a></li>
                        <li><a href="#" class="nav-link" data-topic="govdata">Real-World Pipelines</a></li>
                        <li><a href="#" class="nav-link" data-topic="learning">Further Learning</a></li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-3">Resources</h3>
                    <ul class="space-y-1">
                        <li><a href="#" class="nav-link" data-topic="faq">‚ùì FAQ</a></li>
                        <li><a href="#" class="nav-link" data-topic="glossary">üìö Glossary</a></li>
                        <li><a href="#" class="nav-link" data-topic="references">üìÑ References</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="mt-auto pt-6 border-t border-slate-100 text-xs text-slate-400 text-center">
                &copy; 2025 Himanshu Gaur
            </div>
        </nav>

        <!-- Main Content Area -->
        <main id="main-content" class="w-full md:w-4/5 h-full overflow-y-auto bg-slate-50">
            
            <!-- Floating Header (ALWAYS VISIBLE, STICKY) -->
            <header id="main-header" class="sticky top-0 z-30 px-8 py-4 shadow-sm transition-all flex justify-between items-center w-full">
                <div class="cursor-pointer" onclick="switchTopic('home')">
                    <h1 class="text-lg md:text-xl font-bold text-slate-900">Data Analysis with Python</h1>
                    <p class="text-sm text-slate-500 font-medium">Faculty: Himanshu Gaur</p>
                </div>
                <div class="flex items-center gap-4">
                    <!-- Desktop Sidebar Toggle (optional but keeping standard layout) -->
                    <button id="desktop-theme-toggle" class="theme-toggle" aria-label="Toggle Dark Mode">
                        <svg class="w-5 h-5 sun-icon hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                        <svg class="w-5 h-5 moon-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                    </button>
                    <button id="back-to-top" class="text-sm text-blue-600 font-semibold hover:text-blue-800 flex items-center gap-1">
                         Back to Top &uarr;
                    </button>
                </div>
            </header>

            <div class="p-6 md:p-8 lg:p-16 max-w-5xl mx-auto">

                <!-- HOME PAGE PANEL -->
                <div id="home" class="topic-panel">
                    <!-- Hero Section -->
                    <div class="hero-bg rounded-3xl p-8 md:p-12 text-white shadow-2xl mb-16 relative overflow-hidden flex items-center min-h-[400px]">
                        <div class="relative z-10 w-full md:w-2/3 lg:w-1/2">
                            <!-- Opaque Box (Forced White with Dark Text) -->
                            <div class="hero-box-force-white p-8 rounded-2xl shadow-xl">
                                <h1 class="text-3xl md:text-5xl font-extrabold mb-4 leading-tight tracking-tight">Data Analysis with Python</h1>
                                <p class="text-lg font-medium mb-6">Faculty: <span class="font-bold">Himanshu Gaur</span></p>
                                <button id="get-started-btn" class="w-full bg-blue-600 text-white hover:bg-blue-700 font-bold py-3 px-6 rounded-xl shadow-lg transition-all text-center">
                                    Start Learning &rarr;
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Prerequisites Section -->
                    <div class="bg-white border border-slate-200 rounded-2xl shadow-sm p-8 mb-16">
                        <h3 class="text-2xl font-bold text-slate-900 mb-6 flex items-center mt-0 border-none pb-0">
                            <span class="bg-blue-100 text-blue-600 p-2 rounded-lg mr-3 text-xl">üõ†Ô∏è</span> 
                            Setup & Prerequisites
                        </h3>
                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="bg-slate-50 p-6 rounded-xl border border-slate-200">
                                <h4 class="font-bold text-lg text-slate-800 mb-2 mt-0">1. Anaconda Distribution</h4>
                                <p class="text-slate-600 text-sm mb-4">You need an environment that contains Python, pandas, and numpy pre-installed. Anaconda is the industry standard for Data Science.</p>
                                <a href="https://www.anaconda.com/download" target="_blank" class="inline-block w-full text-center bg-slate-900 hover:bg-slate-800 text-white font-bold py-2 px-4 rounded-lg transition-colors mb-4 text-sm">Download Anaconda</a>
                                <div class="bg-white p-3 rounded border border-slate-200">
                                    <p class="text-xs font-mono text-slate-500 mb-1">Recommended: Update all packages</p>
                                    <code class="text-xs text-blue-600 bg-blue-50 px-1 py-0.5 rounded block">conda update --all</code>
                                </div>
                            </div>
                            <div class="bg-slate-50 p-6 rounded-xl border border-slate-200">
                                <h4 class="font-bold text-lg text-slate-800 mb-2 mt-0">2. Jupyter Notebook</h4>
                                <p class="text-slate-600 text-sm mb-4">This acts as our "Digital Lab Notebook". It allows us to mix code, output, charts, and text explanations in a single document.</p>
                                <ul class="text-sm text-slate-600 space-y-2">
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Launch via Anaconda Navigator</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úì</span> Or run <code class="text-xs bg-slate-200 px-1 rounded ml-1">jupyter notebook</code> in CMD</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-8 mb-12">
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-blue-600 font-bold mb-4">1</div>
                            <h4 class="text-lg font-bold text-slate-900 mb-2 mt-0">Ingestion</h4>
                            <p class="text-sm text-slate-600">Import raw economic data from CSVs, Excel, JSON, and Web APIs.</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <div class="w-10 h-10 bg-indigo-100 rounded-lg flex items-center justify-center text-indigo-600 font-bold mb-4">2</div>
                            <h4 class="text-lg font-bold text-slate-900 mb-2 mt-0">Analysis</h4>
                            <p class="text-sm text-slate-600">Apply Split-Apply-Combine to aggregate insights and detect outliers.</p>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                            <div class="w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600 font-bold mb-4">3</div>
                            <h4 class="text-lg font-bold text-slate-900 mb-2 mt-0">Visualisation</h4>
                            <p class="text-sm text-slate-600">Create complex charts for GDP, Inflation, and Global Trade.</p>
                        </div>
                    </div>
                </div>

                <!-- Topic 1 -->
                <div id="topic1" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=1200&q=80" alt="Ingestion" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 1: Data Ingestion from Diverse Formats</h2>
                    
                    <h3>Theoretical Framework</h3>
                    <p>Economic data is rarely clean. It comes in legacy formats (fixed-width text), spreadsheets (Excel), or modern web standards (JSON). The first step in analysis is parsing this byte-stream into a structured DataFrame. Without proper ingestion, analysis is impossible.</p>

                    <h3>Code Implementation</h3>
                    
                    <h4>Part A: Reading Indian Census Data (Text Files)</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Real government data often uses different separators (like pipes `|`) instead of commas to avoid errors when fields themselves contain commas (e.g., "Mumbai, Maharashtra"). Using a custom separator is crucial for preventing column misalignment.</div>
                        <h5>Conceptual Goal</h5>
                        <p>To ingest demographic data containing non-standard delimiters.</p>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>pd.read_csv()</code>: The Swiss-Army knife for reading text files. It can handle local files or URLs.</li>
                            <li><code>sep='|'</code>: Explicitly overrides the default comma separator. If this is wrong, Python will read the whole line as one column.</li>
                            <li><code>StringIO</code>: Simulates a file on disk using a string variable (useful for testing without real files).</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import pandas as pd
from io import StringIO
import json

# Simulating a pipe-separated (|) file
census_data = """State|Population_Millions|Literacy_Rate
Maharashtra|112.4|82.3
Uttar Pradesh|199.8|67.7
Kerala|33.4|94.0
Bihar|104.1|61.8"""

# Reading the string as if it were a file
df_census = pd.read_csv(StringIO(census_data), sep='|')
print("--- Text File Ingestion ---")
print(df_census)</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>--- Text File Ingestion ---
           State  Population_Millions  Literacy_Rate
0    Maharashtra                112.4           82.3
1  Uttar Pradesh                199.8           67.7
2         Kerala                 33.4           94.0
3          Bihar                104.1           61.8</div>

                    <h4>Part B: Reading JSON Data (API Format)</h4>
                    <div class="code-explanation">
                        <div class="simple-english">JSON (JavaScript Object Notation) is the language of the modern web. Most economic APIs (like World Bank or RBI) return data in this nested key-value format because it is lightweight and flexible.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>json.loads()</code>: Parses a JSON string into a Python dictionary. Essential for handling API responses.</li>
                            <li><code>pd.DataFrame.from_dict()</code>: Converts a dictionary into a tabular DataFrame. It infers columns from keys.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code># Simulating a JSON response from an API
json_str = '{"Country": {"0": "India", "1": "USA"}, "GDP_Trillion": {"0": 3.7, "1": 23.0}}'

# Ingesting JSON
data_dict = json.loads(json_str)
df_json = pd.DataFrame.from_dict(data_dict)

print("--- JSON API Ingestion ---")
print(df_json)</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>--- JSON API Ingestion ---
  Country  GDP_Trillion
0   India           3.7
1     USA          23.0</div>

                    <div class="practice-box">
                        <h5>üöÄ Topic 1 Challenge</h5>
                        <p class="text-sm">Try creating a CSV file named <code>my_data.csv</code> with headers "Date,Price" and values "2023-01-01,500". Then read it back using <code>pd.read_csv('my_data.csv')</code>.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('topic2')" class="next-btn">Next: Topic 2 &rarr;</button>
                    </div>
                </div>
                
                <!-- Topic 2 -->
                <div id="topic2" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1635070041078-e363dbe005cb?auto=format&fit=crop&w=1200&q=80" alt="NumPy" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 2: NumPy Arithmetic Operations</h2>
                    
                    <h3>Theoretical Framework</h3>
                    <p><strong>Vectorization</strong> is the process of applying mathematical operations to an entire array at once, rather than looping through individual elements. This utilizes <strong>SIMD (Single Instruction, Multiple Data)</strong> processor features, making calculations millions of times faster for large datasets.</p>

                    <h3>Code Implementation</h3>

                    <h4>Part A: Real vs Nominal GDP (Vectorization)</h4>
                    <div class="code-explanation">
                        <div class="simple-english">We calculate Real GDP for multiple states at once by removing inflation effects instantly. If we used a loop, this would take much longer for large datasets.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>np.array()</code>: Creates high-performance contiguous memory arrays. Unlike lists, these must contain a single data type (e.g., all floats).</li>
                            <li><code>* 100</code>: <strong>Broadcasting</strong>. The scalar 100 is "stretched" to match the shape of the array for multiplication.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import numpy as np

# Nominal GDP for 3 States (in Lakh Crores)
nominal_gdp = np.array([20.5, 15.2, 8.9]) 

# GDP Deflator (Base 100)
deflator = np.array([120, 115, 110])

# Calculate Real GDP
real_gdp = (nominal_gdp / deflator) * 100

print(f"Nominal GDP: {nominal_gdp}")
print(f"Real GDP:    {np.round(real_gdp, 2)}")</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>Nominal GDP: [20.5 15.2  8.9]
Real GDP:    [17.08 13.22  8.09]</div>

                    <h4>Part B: Logic Masks (Filtering)</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Filtering data without IF statements. We create a "mask" of True/False values to select data. This is fundamental for extracting specific demographic segments (e.g., "Households earning > 50k").</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>arr > 20</code>: Creates a boolean array (e.g., [True, False, True]).</li>
                            <li><code>arr[mask]</code>: Selects only elements where mask is True.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>incomes = np.array([50000, 120000, 45000, 80000])

# Who earns more than 60k?
high_earners = incomes[incomes > 60000]

print(f"High Income Segments: {high_earners}")</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>High Income Segments: [120000  80000]</div>

                    <div class="practice-box">
                        <h5>üöÄ Topic 2 Challenge</h5>
                        <p class="text-sm">Create two arrays: <code>Year1_Rev = np.array([100, 200])</code> and <code>Year2_Rev = np.array([110, 250])</code>. Calculate the percentage growth array: <code>((Year2 - Year1) / Year1) * 100</code>.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('topic3')" class="next-btn">Next: Topic 3 &rarr;</button>
                    </div>
                </div>

                <!-- Topic 3 -->
                <div id="topic3" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1509228468518-180dd4864904?auto=format&fit=crop&w=1200&q=80" alt="Slicing" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 3: Advanced Slicing</h2>
                    
                    <h3>Theoretical Framework</h3>
                    <p>Slicing allows us to view specific subsets of data without copying memory. This is done by manipulating <strong>Memory Strides</strong>. This is critical for time-series analysis (e.g., comparing Q1 vs Q4 performance). Efficient slicing prevents memory overload when working with massive economic datasets.</p>

                    <h4>NIFTY 50 Market Analysis</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Extracting the first and last week of trading data to compare trends. We perform a "start-to-end" check without needing to loop through the days in between.</div>
                        <h5>Conceptual Goal</h5>
                        <p>To extract specific subsets (time periods) using index slicing.</p>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>linspace(start, stop, num)</code>: Generates evenly spaced numbers. Useful for creating dummy time-series data.</li>
                            <li><code>[:5]</code>: Start to index 5 (exclusive). Grabs the first 5 elements.</li>
                            <li><code>[-5:]</code>: Index -5 (5th from end) to the end. Grabs the last 5 elements.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import numpy as np

# Simulated NIFTY 50 prices (20 days)
prices = np.linspace(19000, 20000, 20)

print(f"First Week: {np.round(prices[:5], 0)}")
print(f"Last Week:  {np.round(prices[-5:], 0)}")
print(f"Net Growth: {np.round(prices[-1] - prices[0], 0)}")</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>First Week: [19000. 19053. 19105. 19158. 19211.]
Last Week:  [19789. 19842. 19895. 19947. 20000.]
Net Growth: 1000.0</div>

                    <div class="practice-box">
                        <h5>üöÄ Topic 3 Challenge</h5>
                        <p class="text-sm">Given an array of 12 months: <code>months = np.arange(1, 13)</code>. Extract the second quarter (April, May, June) using slicing logic <code>months[3:6]</code>.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('topic4')" class="next-btn">Next: Topic 4 &rarr;</button>
                    </div>
                </div>

                <!-- Topic 4 -->
                <div id="topic4" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?auto=format&fit=crop&w=1200&q=80" alt="Metadata" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 4: Array Metadata & Memory</h2>

                    <h3>Theoretical Framework</h3>
                    <p>Understanding metadata is vital for optimization. A 64-bit float takes twice as much RAM as a 32-bit float. Knowing the <code>shape</code> and <code>dtype</code> prevents dimension mismatch errors in linear algebra (e.g., you cannot multiply a 3x3 matrix by a 2x2 matrix).</p>

                    <h4>Inspecting & Optimising Memory</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Checking the dimensions and memory usage. By reducing precision from 64-bit to 32-bit, we can halve the memory usage, which is critical when analyzing Big Data (e.g., Census records).</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>.shape</code>: Returns (Rows, Columns). Always check this before merging data.</li>
                            <li><code>.astype('float32')</code>: Converts data types to save memory (e.g., from 64-bit to 32-bit).</li>
                            <li><code>.nbytes</code>: Exact memory consumed in bytes.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import numpy as np

# A matrix of 3 Sectors across 4 Quarters (Standard Float64)
data = np.zeros((3, 4))

print(f"Initial Memory: {data.nbytes} bytes")

# Optimisation: Convert to Float32
data_optimized = data.astype('float32')
print(f"Optimised Memory: {data_optimized.nbytes} bytes")</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>Initial Memory: 96 bytes
Optimised Memory: 48 bytes</div>

                    <div class="practice-box">
                        <h5>üöÄ Topic 4 Challenge</h5>
                        <p class="text-sm">Create a 1D array of 12 elements using <code>np.arange(12)</code>. Then use <code>.reshape(3, 4)</code> to change it into a 3-row, 4-column matrix. Print its new shape.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('topic5')" class="next-btn">Next: Topic 5 &rarr;</button>
                    </div>
                </div>

                <!-- Topic 5 -->
                <div id="topic5" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?auto=format&fit=crop&w=1200&q=80" alt="DataFrames" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 5: DataFrames</h2>

                    <h3>Theoretical Framework</h3>
                    <p>The <strong>DataFrame</strong> is the core of pandas. Before analysis, we must "audit" the data using summary statistics to check for sanity (e.g., ensuring no negative prices exist) and to understand the distribution (mean vs median).</p>

                    <h4>Indian Startup Ecosystem Audit</h4>
                    <div class="code-explanation">
                        <div class="simple-english">We build a table of unicorn startups and immediately run a statistical check to see the "Average Valuation" and spread. This helps investors spot anomalies.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>.describe()</code>: Generates summary stats (Count, Mean, Min, Max). The first command you should run on any new dataset.</li>
                            <li><code>.info()</code>: Shows data types and non-null counts. Essential for finding missing values.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import pandas as pd

data = [
    ['Flipkart', 'Bengaluru', 37.6],
    ['Paytm', 'Noida', 16.0],
    ['Ola', 'Bengaluru', 7.3],
    ['Zomato', 'Gurugram', 12.0],
    ['Swiggy', 'Bengaluru', 10.7]
]

df = pd.DataFrame(data, columns=['Name', 'City', 'Valuation_B'])

print("--- Statistical Summary ---")
print(df.describe())

print("\n--- Mega Unicorns (> $15B) ---")
print(df[df['Valuation_B'] > 15.0])</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>--- Statistical Summary ---
       Valuation_B
count     5.000000
mean     16.720000
std      12.091195
min       7.300000
25%      10.700000
50%      12.000000
75%      16.000000
max      37.600000

--- Mega Unicorns (> $15B) ---
       Name       City  Valuation_B
0  Flipkart  Bengaluru         37.6
1     Paytm      Noida         16.0</div>

                    <div class="practice-box">
                        <h5>üöÄ Topic 5 Challenge</h5>
                        <p class="text-sm">Add a new column called 'Valuation_INR' by multiplying 'Valuation_B' by 83. Then use <code>.head()</code> to view the result.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('topic6')" class="next-btn">Next: Topic 6 &rarr;</button>
                    </div>
                </div>

                <!-- Topic 6 -->
                <div id="topic6" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1500937386664-56d1dfef3854?auto=format&fit=crop&w=1200&q=80" alt="Agriculture" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 6: Basic GroupBy</h2>

                    <h3>Theoretical Framework</h3>
                    <p>The <strong>Split-Apply-Combine</strong> strategy is fundamental. 
                    1. <strong>Split</strong> data into groups based on keys (e.g., 'Crop').
                    2. <strong>Apply</strong> a function to each group (e.g., 'Mean').
                    3. <strong>Combine</strong> results into a new table.
                    This allows for rapid comparative analysis between categories.</p>

                    <h4>Indian Agriculture Yield Analysis</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Grouping farms by crop type to find which one produces more food per acre on average. This helps policymakers decide which crops to subsidize.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>groupby('Crop')</code>: Splits data into hidden buckets based on unique values in 'Crop'.</li>
                            <li><code>['Yield']</code>: Selects the column to do math on.</li>
                            <li><code>.mean()</code>: The aggregation function. Can also be sum, max, min, or count.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import pandas as pd

agri_data = {
    'State': ['Punjab', 'Punjab', 'Haryana', 'Haryana'],
    'Crop': ['Wheat', 'Rice', 'Wheat', 'Rice'],
    'Yield_Kg_Ha': [5000, 4000, 4800, 3900]
}
df = pd.DataFrame(agri_data)

print("--- Average Yield by Crop ---")
print(df.groupby('Crop')['Yield_Kg_Ha'].mean())</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>--- Average Yield by Crop ---
Crop
Rice     3950.0
Wheat    4900.0
Name: Yield_Kg_Ha, dtype: float64</div>

                    <div class="practice-box">
                        <h5>üöÄ Topic 6 Challenge</h5>
                        <p class="text-sm">Group the data by 'State' instead of 'Crop' and calculate the <code>sum()</code> of Yield to see which state produces more total food in this sample.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('topic7')" class="next-btn">Next: Topic 7 &rarr;</button>
                    </div>
                </div>

                <!-- Topic 7 -->
                <div id="topic7" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1543286386-2e659306cd6c?auto=format&fit=crop&w=1200&q=80" alt="Complex Data" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 7: Multi-Aggregation</h2>

                    <h3>Theoretical Framework</h3>
                    <p>Often we need different summaries for different variables. For Income, we want the Average. For Literacy Rate, we might want the Maximum to see the best performing zone. Pandas allows passing a dictionary of rules to achieve this in a single pass.</p>

                    <h4>Regional Economic Profiling</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Calculating average income AND maximum literacy for each district simultaneously. This creates a multi-dimensional profile of each region.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>.agg({...})</code>: Dictionary mapping columns to specific functions. Key is column name, Value is function name.</li>
                            <li><code>'mean'</code>, <code>'max'</code>: Standard statistical strings. Can also pass custom functions like <code>np.median</code>.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import pandas as pd

data = {
    'District': ['Mumbai', 'Pune', 'Mumbai', 'Pune'],
    'Income': [85000, 70000, 88000, 72000],
    'Literacy': [90, 88, 91, 89]
}
df = pd.DataFrame(data)

# Complex Aggregation Rules
rules = {
    'Income': 'mean', 
    'Literacy': 'max'
}

print(df.groupby('District').agg(rules))</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>           Income  Literacy
District                  
Mumbai    86500.0        91
Pune      71000.0        89</div>

                    <div class="practice-box">
                        <h5>üöÄ Topic 7 Challenge</h5>
                        <p class="text-sm">Modify the rules dictionary to calculate the <code>'std'</code> (Standard Deviation) of Income. This measures inequality within the district.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('merging')" class="next-btn">Next: Topic 7b &rarr;</button>
                    </div>
                </div>

                <!-- Topic 7b: Merging -->
                <div id="merging" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&w=1200&q=80" alt="Merging" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 7b: Merging DataFrames</h2>

                    <h3>Theoretical Framework</h3>
                    <p>In economics, data often lives in separate tables (e.g., GDP data in one file, Population data in another). <strong>Merging</strong> (or Joining) is the process of combining these tables based on a common key (like 'Country' or 'Year'). This corresponds to SQL JOINS.</p>

                    <h4>Joining GDP and Population Data</h4>
                    <div class="code-explanation">
                        <div class="simple-english">We have two separate lists. One has GDP, the other has Population. We use the 'Country' name to glue them together into one table so we can calculate GDP per Capita.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>pd.merge(left, right, on='Key')</code>: The standard join function.</li>
                            <li><code>how='inner'</code>: Only keeps rows that exist in BOTH tables (Intersection). Use 'outer' to keep everything (Union).</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code># Table 1: GDP
df_gdp = pd.DataFrame({
    'Country': ['India', 'USA', 'China'],
    'GDP': [3.5, 23.0, 18.0]
})

# Table 2: Population
df_pop = pd.DataFrame({
    'Country': ['India', 'USA', 'Japan'],
    'Pop': [1.4, 0.33, 0.12]
})

# Merge (Inner Join - China and Japan will be dropped as they don't match)
df_merged = pd.merge(df_gdp, df_pop, on='Country', how='inner')

print(df_merged)</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>  Country   GDP   Pop
0   India   3.5  1.40
1     USA  23.0  0.33</div>

                    <div class="practice-box">
                        <h5>üöÄ Topic 7b Challenge</h5>
                        <p class="text-sm">Change <code>how='inner'</code> to <code>how='outer'</code>. Observe how NaN values appear for countries that don't have a match.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('topic8')" class="next-btn">Next: Topic 8 &rarr;</button>
                    </div>
                </div>

                <!-- Topic 8 -->
                <div id="topic8" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?auto=format&fit=crop&w=1200&q=80" alt="Pollution" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 8: Data Integrity & Cleaning</h2>

                    <h3>Theoretical Framework</h3>
                    <p>Real-world data has holes (NaNs) and errors (Outliers). 
                    <strong>Imputation</strong> fills holes with logic (mean/median/interpolation). 
                    <strong>Outlier Detection</strong> uses stats (like Z-Score or IQR) to flag suspicious values that could skew your average.</p>

                    <h4>Part A: Handling Missing AQI Data (Interpolation)</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Sensors fail. We estimate missing air quality readings by drawing a line between known points (Linear Interpolation). This is better than filling with Zero, which would incorrectly pull the average down.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>interpolate()</code>: Fills gaps linearly (e.g., halfway between 10 and 20 is 15).</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import pandas as pd
import numpy as np

df = pd.DataFrame({
    'Day': [1, 2, 3, 4],
    'AQI': [350, np.nan, np.nan, 320]
})

df['AQI_Clean'] = df['AQI'].interpolate()
print(df)</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>   Day    AQI  AQI_Clean
0    1  350.0      350.0
1    2    NaN      340.0
2    3    NaN      330.0
3    4  320.0      320.0</div>

                    <h4>Part B: String Cleaning</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Data entry errors are common. " India " is not the same as "India" due to the extra spaces. We must strip whitespace to ensure grouping works correctly.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>str.strip()</code>: Removes leading/trailing spaces.</li>
                            <li><code>str.upper()</code>: Standardizes case to handle "usa" vs "USA".</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>df_messy = pd.DataFrame({'Country': [' India ', 'usa', 'UK']})

# Clean the strings
df_messy['Country'] = df_messy['Country'].str.strip().str.upper()

print(df_messy)</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>  Country
0   INDIA
1     USA
2      UK</div>

                    <div class="practice-box">
                        <h5>üöÄ Topic 8 Challenge</h5>
                        <p class="text-sm">Filter out rows where AQI is negative (impossible values). Use logic: <code>df[df['AQI'] >= 0]</code>.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('topic9')" class="next-btn">Next: Topic 9 &rarr;</button>
                    </div>
                </div>

                <!-- Topic 9 -->
                <div id="topic9" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1590283603385-17ffb3a7f29f?auto=format&fit=crop&w=1200&q=80" alt="Global Economy" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 9: WEO Case Study</h2>

                    <h3>Theoretical Framework</h3>
                    <p>In Time Series analysis (like <strong>Vector Autoregression</strong> models), raw data is often "noisy" due to daily fluctuations. We use <strong>Rolling Windows</strong> to smooth out short-term noise and reveal long-term structural trends, which is essential for forecasting.</p>

                    <h4>Part A: Rolling Averages (Smoothing)</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Calculating the 3-Month Moving Average of inflation. This shows the general direction of prices rather than monthly spikes.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>rolling(window=3)</code>: Creates a moving window of size 3 rows.</li>
                            <li><code>mean()</code>: Calculates the average within that moving window.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import pandas as pd

df = pd.DataFrame({
    'Month': ['Jan', 'Feb', 'Mar', 'Apr', 'May'],
    'Inflation': [5.1, 5.3, 5.2, 6.8, 5.4]
})

# 3-Month Moving Average
df['Rolling_Avg'] = df['Inflation'].rolling(window=3).mean()

print(df)</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>  Month  Inflation  Rolling_Avg
0   Jan        5.1          NaN
1   Feb        5.3          NaN
2   Mar        5.2     5.200000
3   Apr        6.8     5.766667
4   May        5.4     5.800000</div>

                    <h4>Part B: Year-over-Year Growth</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Calculating how much the economy grew compared to the previous period (Rate of Change).</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>pct_change()</code>: Calculates percentage change between current element and the one immediately prior.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>df_gdp = pd.DataFrame({'GDP': [100, 105, 110, 108]})
df_gdp['Growth_Rate'] = df_gdp['GDP'].pct_change() * 100
print(df_gdp)</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>   GDP  Growth_Rate
0  100          NaN
1  105     5.000000
2  110     4.761905
3  108    -1.818182</div>
                    
                    <div class="practice-box">
                        <h5>üöÄ Topic 9 Challenge</h5>
                        <p class="text-sm">Change the rolling window to 2 (`window=2`) to see a more sensitive moving average.</p>
                    </div>

                    <div class="chart-container">
                        <canvas id="weoChart"></canvas>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('topic10')" class="next-btn">Next: Topic 10 &rarr;</button>
                    </div>
                </div>

                <!-- Topic 10 -->
                <div id="topic10" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1578575437130-527eed3abbec?auto=format&fit=crop&w=1200&q=80" alt="Trade" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Topic 10: Trade Case Study</h2>

                    <h3>Theoretical Framework</h3>
                    <p>International trade data is complex. We often use <strong>Pivot Tables</strong> to reorganize data from a "Long Format" (Transaction Logs) to a "Wide Format" (Matrix) for better readability. This helps in spotting trade deficits or surpluses visually.</p>

                    <h4>Pivot Table Analysis</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Converting a list of transactions into a matrix where rows are Exporters and columns are Sectors. It summarizes total trade value in the intersecting cells.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>pivot_table()</code>: The Excel-killer function.</li>
                            <li><code>index='Exporter'</code>: What becomes the rows.</li>
                            <li><code>columns='Sector'</code>: What becomes the columns.</li>
                            <li><code>values='Value'</code>: What numbers fill the cells.</li>
                            <li><code>aggfunc='sum'</code>: How to combine duplicates (Sum them up).</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import pandas as pd

df = pd.DataFrame({
    'Exporter': ['India', 'India', 'China', 'China'],
    'Sector': ['Tech', 'Pharma', 'Tech', 'Pharma'],
    'Value': [200, 50, 500, 20]
})

# Create Matrix
matrix = df.pivot_table(index='Exporter', columns='Sector', values='Value', aggfunc='sum')

print("--- Trade Matrix ---")
print(matrix)</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>--- Trade Matrix ---
Sector    Pharma   Tech
Exporter               
China         20    500
India         50    200</div>
                    
                    <div class="practice-box">
                        <h5>üöÄ Topic 10 Challenge</h5>
                        <p class="text-sm">Filter the original DataFrame for 'Sector' == 'Tech' before creating the Pivot Table.</p>
                    </div>

                    <div class="chart-container">
                        <canvas id="tradeChart"></canvas>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('viz')" class="next-btn">Next: Adv Viz &rarr;</button>
                    </div>
                </div>

                <!-- Advanced Viz -->
                <div id="viz" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=1200&q=80" alt="Viz" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Advanced Visualisation</h2>
                    <p>While pandas handles the data, <strong>Matplotlib</strong> and <strong>Seaborn</strong> handle the aesthetics.</p>

                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import matplotlib.pyplot as plt

years = [2020, 2021, 2022, 2023]
gdp = [2.5, 3.0, 3.2, 3.7]

plt.figure(figsize=(8, 4))
plt.plot(years, gdp, marker='o', linestyle='--', color='blue')
plt.title('India GDP Trend (Trillions USD)')
plt.grid(True)
plt.show()</code></pre>
                    </div>
                    
                    <div class="practice-box">
                        <h5>üöÄ Visualization Challenge</h5>
                        <p class="text-sm">Change <code>color='blue'</code> to <code>color='red'</code> and <code>linestyle='--'</code> to <code>linestyle='-'</code> (solid line).</p>
                    </div>

                    <div class="chart-container">
                        <canvas id="timeSeriesChart"></canvas>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('kendrick')" class="next-btn">Next: Data Storytelling &rarr;</button>
                    </div>
                </div>
                
                <!-- NEW: Kendrick Lamar Section -->
                <div id="kendrick" class="topic-panel hidden">
                    <!-- Replaced Getty Images Embed with a static image -->
                    <div class="mb-8 flex justify-center">
                        <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?auto=format&fit=crop&w=1200&q=80" alt="Music Concert Stage" class="w-full h-64 object-cover rounded-2xl mb-8 shadow-sm">
                    </div>

                    <h2>Data Storytelling: The Structure of Narrative</h2>
                    
                    <div class="bg-blue-50 border-l-4 border-blue-600 p-6 rounded-r-lg mb-8">
                        <h4 class="text-blue-900 font-bold mb-2">The DAMN. Hypothesis</h4>
                        <p class="text-blue-800 text-sm">Kendrick Lamar's Pulitzer-winning album <em>DAMN.</em> is famous for a unique structural property: it tells two completely different stories depending on the order you listen to the tracks.</p>
                        <ul class="list-disc ml-5 mt-2 text-blue-800 text-sm">
                            <li><strong>Forward Order (1-14):</strong> A story of wickedness leading to weakness and death.</li>
                            <li><strong>Reverse Order (14-1):</strong> A story of weakness finding redemption and wickedness.</li>
                        </ul>
                        <p class="mt-4 text-blue-800 text-sm font-semibold">This is a perfect analogy for how data sorting and directionality (Topic 3 Slicing) can completely alter the insights derived from a dataset.</p>
                    </div>

                    <div class="aspect-w-16 aspect-h-9 mb-8">
                        <iframe width="100%" height="400" src="https://www.youtube.com/embed/v-ek1OxZ2tE?si=v0Y66lw7aYTNiBap" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen class="rounded-xl shadow-lg"></iframe>
                    </div>

                    <h3>Part 1: Simple Reversal (Slicing)</h3>
                    <div class="code-explanation">
                        <div class="simple-english">Using Python's slicing magic `[::-1]` to instantly reverse the "dataset" of tracks, revealing the hidden narrative.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>tracks[::-1]</code>: The "step" is -1, meaning "start from the end and walk backwards". (Module 3)</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code># The DAMN. Hypothesis: Order changes Meaning
tracks = ["BLOOD.", "DNA.", "YAH.", "ELEMENT.", "FEEL.", "LOYALTY.", "PRIDE.", "HUMBLE.", "LUST.", "LOVE.", "XXX.", "FEAR.", "GOD.", "DUCKWORTH."]

# Original Narrative (1 to 14)
print("--- Forward Narrative (Wickedness leads to Weakness) ---")
print(tracks)

# Collectors Edition Narrative (14 to 1)
print("\n--- Reversed Narrative (Weakness leads to Wickedness) ---")
print(tracks[::-1])</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>--- Forward Narrative (Wickedness leads to Weakness) ---
['BLOOD.', 'DNA.', 'YAH.', 'ELEMENT.', 'FEEL.', 'LOYALTY.', 'PRIDE.', 'HUMBLE.', 'LUST.', 'LOVE.', 'XXX.', 'FEAR.', 'GOD.', 'DUCKWORTH.']

--- Reversed Narrative (Weakness leads to Wickedness) ---
['DUCKWORTH.', 'GOD.', 'FEAR.', 'XXX.', 'LOVE.', 'LUST.', 'HUMBLE.', 'PRIDE.', 'LOYALTY.', 'FEEL.', 'ELEMENT.', 'YAH.', 'DNA.', 'BLOOD.']</div>

                    <h3 class="mt-12">Part 2: Capstone Analysis - Quantifying the Arc</h3>
                    <div class="code-explanation">
                        <div class="simple-english">We will now prove the "Wickedness vs. Weakness" theory using Data Science. We assign an 'Aggression Score' to each track, create a DataFrame, reverse it, and use Rolling Averages to visualize the emotional trajectory.</div>
                        <h5>Methodology (Combining Modules 1-9)</h5>
                        <ul class="syntax-list">
                            <li><strong>Ingestion:</strong> Create a DataFrame with Track Names and Aggression Scores (Module 1 & 5).</li>
                            <li><strong>Transformation:</strong> Create a reverse version of the DataFrame (Module 3).</li>
                            <li><strong>Analysis:</strong> Calculate a Rolling Average to smooth out individual track variance and see the "Trend" (Module 9).</li>
                            <li><strong>Visualization:</strong> Plot the two arcs against each other (Advanced Viz).</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import pandas as pd
import matplotlib.pyplot as plt

# 1. Ingestion: Define Data (Module 1/5)
# Score: 100 = Pure Aggression (Wickedness), 0 = Pure Contemplation (Weakness)
data = {
    'Track': ["BLOOD.", "DNA.", "YAH.", "ELEMENT.", "FEEL.", "LOYALTY.", "PRIDE.", "HUMBLE.", "LUST.", "LOVE.", "XXX.", "FEAR.", "GOD.", "DUCKWORTH."],
    'Aggression_Score': [20, 100, 30, 80, 40, 50, 30, 90, 60, 20, 85, 10, 50, 40]
}

# 2. DataFrame Creation (Module 5)
df_forward = pd.DataFrame(data)

# 3. Analysis: Calculate Narrative Flow using Rolling Window (Module 9)
# We use a window of 3 tracks to see the "moving sentiment"
df_forward['Narrative_Arc'] = df_forward['Aggression_Score'].rolling(window=3).mean()

# 4. Transformation: Create Reverse Data (Module 3)
# We flip the dataframe upside down
df_reverse = df_forward.iloc[::-1].reset_index(drop=True)
df_reverse['Narrative_Arc'] = df_reverse['Aggression_Score'].rolling(window=3).mean()

print("--- Forward Arc (First 5 Steps) ---")
print(df_forward[['Track', 'Narrative_Arc']].head())

print("\n--- Reverse Arc (First 5 Steps) ---")
print(df_reverse[['Track', 'Narrative_Arc']].head())</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>--- Forward Arc (First 5 Steps) ---
      Track  Narrative_Arc
0    BLOOD.            NaN
1      DNA.            NaN
2      YAH.      50.000000
3  ELEMENT.      70.000000
4     FEEL.      50.000000

--- Reverse Arc (First 5 Steps) ---
        Track  Narrative_Arc
0  DUCKWORTH.            NaN
1        GOD.            NaN
2       FEAR.      33.333333
3        XXX.      48.333333
4       LOVE.      38.333333</div>

                    <h4 class="mt-8">Visualising the Sentiment Trajectory</h4>
                    <p class="text-sm text-slate-600 mb-4">Notice how the Blue Line (Forward) generally trends downwards (High Aggression -> Low), while the Red Line (Reverse) trends upwards? This visually confirms the album's dual narrative structure.</p>
                    <div class="chart-container">
                        <canvas id="kendrickChart"></canvas>
                    </div>

                    <div class="practice-box">
                        <h5>üöÄ Storytelling Challenge</h5>
                        <p class="text-sm">Create a list of 5 major life events in chronological order. Reverse them using slicing to see if it tells a "Benjamin Button" style story.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('grammy')" class="next-btn">Next: Grammy Capstone &rarr;</button>
                    </div>
                </div>

                <!-- NEW: Grammy Analytics Capstone Section (UPDATED) -->
                <div id="grammy" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1514525253440-b393452e3728?auto=format&fit=crop&w=1200&q=80" alt="Grammy Award Background" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Capstone: Grammy Awards Analytics</h2>
                    
                    <h3>The "Croissant" Dataset Pipeline</h3>
                    <p>In this advanced module, we move beyond manual data entry. We use the <strong>mlcroissant</strong> library to fetch a standardized dataset directly from Kaggle. This represents a professional Data Engineering workflow.</p>

                    <h3>Advanced Concepts Applied</h3>
                    <ul class="list-disc ml-5 mb-6">
                        <li><strong>Automated Ingestion:</strong> Fetching JSON-LD metadata to understand dataset structure before loading.</li>
                        <li><strong>Evolutionary Analysis:</strong> Visualizing how music genre dominance has shifted over 60 years.</li>
                        <li><strong>Stacked Visualization:</strong> Using a Stacked Area Chart to show "Share of Voice" among genres.</li>
                    </ul>

                    <h3>Code Implementation</h3>
                    <div class="code-explanation">
                        <div class="simple-english">We connect to the Kaggle API using the 'mlcroissant' library to pull the official Grammy dataset.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>mlc.Dataset()</code>: Initializes a connection to a dataset using its semantic definition.</li>
                            <li><code>metadata.record_sets</code>: Inspects what tables are available inside the dataset.</li>
                            <li><code>dataset.records()</code>: Streams the actual rows of data into Python.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import mlcroissant as mlc
import pandas as pd

# 1. Fetch the Croissant JSON-LD Metadata
url = 'https://www.kaggle.com/datasets/johnpendenque/grammy-winners-and-nominees-from-1965-to-2024/croissant/download'
croissant_dataset = mlc.Dataset(url)

# 2. Inspect Record Sets (Tables)
record_sets = croissant_dataset.metadata.record_sets
print("Available Tables:", record_sets)

# 3. Fetch Records into DataFrame
# We load the first available record set (UUID 0)
record_set_df = pd.DataFrame(croissant_dataset.records(record_set=record_sets[0].uuid))

print("\n--- Grammy Winners (Head) ---")
print(record_set_df.head())</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>Available Tables: [RecordSet(uuid='grammy_data', name='Grammy Winners')]

--- Grammy Winners (Head) ---
   Year               Category            Nominee          Artist  Winner
0  1965     Record Of The Year  The Girl From...     Stan Getz    True
1  1965       Song Of The Year             Hello        Dolly     False
2  1965  Best New Artist            The Beatles        The Beatles   True
...</div>

                    <h4 class="mt-8">The Evolution of Sound (1965-2024)</h4>
                    <p class="text-sm text-slate-600 mb-4">
                        This chart visualizes the "Market Share" of major genres based on Grammy Nominations over decades. Notice the rise of Hip-Hop (Purple) starting in the 90s and the gradual decline of Rock (Blue).
                    </p>
                    <div class="chart-container">
                        <canvas id="grammyChart"></canvas>
                    </div>

                    <div class="practice-box">
                        <h5>üöÄ Capstone Challenge</h5>
                        <p class="text-sm">Use <code>df[df['Winner'] == True]</code> to filter for only winners, then group by 'Artist' to find the person with the most wins in history.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('govdata')" class="next-btn">Next: Pipelines &rarr;</button>
                    </div>
                </div>
                
                <!-- Gov Data -->
                <div id="govdata" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=1200&q=80" alt="Pipeline" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Real-World Pipelines</h2>
                    <!-- ... Content ... -->
                    <h4>Fetching FRED API Data</h4>
                    <div class="code-explanation">
                        <div class="simple-english">Downloading live inflation data from the US Federal Reserve directly via URL. We add error handling in case the internet is down.</div>
                        <h5>Detailed Syntax Breakdown</h5>
                        <ul class="syntax-list">
                            <li><code>try...except</code>: Prevents the program from crashing if the URL is unreachable.</li>
                        </ul>
                    </div>
                    <div class="relative">
                        <button class="copy-btn">Copy Code</button>
                        <pre><code>import pandas as pd

# Federal Reserve Economic Data (FRED) URL
url = "https://fred.stlouisfed.org/graph/fredgraph.csv?id=CPIAUCSL"

try:
    # Read directly from internet
    df = pd.read_csv(url, parse_dates=['DATE'], index_col='DATE')
    print(df.tail(3))
except:
    print("Error: Unable to fetch data. Check internet connection.")</code></pre>
                    </div>
                    <div class="output-block"><span class="output-label">Terminal Output</span>                 CPIAUCSL
DATE                     
2023-10-01     307.671
2023-11-01     307.051
2023-12-01     306.746</div>

                    <div class="practice-box">
                        <h5>üöÄ Pipeline Challenge</h5>
                        <p class="text-sm">If you can't reach the URL, try creating a dummy dictionary with Date and CPI keys and convert it to a DataFrame manually.</p>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('learning')" class="next-btn">Next: Learning Roadmap &rarr;</button>
                    </div>
                </div>

                <!-- Learning -->
                <div id="learning" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=1200&q=80" alt="Further Learning" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Further Learning Roadmap</h2>
                    <p>You have mastered the basics of DataFrames. The next steps involve storage, advanced statistics, and prediction.</p>
                    
                    <div class="grid md:grid-cols-2 gap-6 mt-6">
                        <div class="bg-white p-6 rounded-xl border border-slate-200">
                            <h4 class="text-blue-600 font-bold mb-2">1. SQL (Structured Query Language)</h4>
                            <p class="text-sm text-slate-600 mb-2">CSV files are for small data. Real companies use SQL databases. Learn <code>SELECT * FROM table</code> logic.</p>
                            <a href="https://sqlzoo.net/" target="_blank" class="text-xs font-mono bg-blue-50 text-blue-600 p-1 rounded hover:bg-blue-100 transition-colors">Resource: SQLZoo</a>
                        </div>
                        <div class="bg-white p-6 rounded-xl border border-slate-200">
                            <h4 class="text-indigo-600 font-bold mb-2">2. Machine Learning (Scikit-Learn)</h4>
                            <p class="text-sm text-slate-600 mb-2">Move from "What happened?" to "What will happen?". Learn Linear Regression for GDP forecasting.</p>
                            <a href="https://www.kaggle.com/learn" target="_blank" class="text-xs font-mono bg-indigo-50 text-indigo-600 p-1 rounded hover:bg-indigo-100 transition-colors">Resource: Kaggle Learn</a>
                        </div>
                        <div class="bg-white p-6 rounded-xl border border-slate-200">
                            <h4 class="text-emerald-600 font-bold mb-2">3. Econometrics (Statsmodels)</h4>
                            <p class="text-sm text-slate-600 mb-2">For rigorous statistical testing (P-values, R-squared) specifically for economics research.</p>
                            <a href="https://www.statsmodels.org/stable/index.html" target="_blank" class="text-xs font-mono bg-emerald-50 text-emerald-600 p-1 rounded hover:bg-emerald-100 transition-colors">Resource: Statsmodels Docs</a>
                        </div>
                        <div class="bg-white p-6 rounded-xl border border-slate-200">
                            <h4 class="text-amber-600 font-bold mb-2">4. Geospatial Analysis (Geopandas)</h4>
                            <p class="text-sm text-slate-600 mb-2">Plotting economic data on maps (Choropleths). Essential for regional development studies.</p>
                            <a href="https://geopandas.org/" target="_blank" class="text-xs font-mono bg-amber-50 text-amber-600 p-1 rounded hover:bg-amber-100 transition-colors">Resource: Geopandas.org</a>
                        </div>
                        <div class="bg-white p-6 rounded-xl border border-slate-200">
                            <h4 class="text-purple-600 font-bold mb-2">5. FreeCodeCamp Data Analysis</h4>
                            <p class="text-sm text-slate-600 mb-2">A comprehensive, free certification course for data analysis with Python.</p>
                            <a href="https://www.freecodecamp.org/learn/data-analysis-with-python/" target="_blank" class="text-xs font-mono bg-purple-50 text-purple-600 p-1 rounded hover:bg-purple-100 transition-colors">Resource: FreeCodeCamp</a>
                        </div>
                        <div class="bg-white p-6 rounded-xl border border-slate-200">
                            <h4 class="text-red-600 font-bold mb-2">6. Coursera (Audit Mode)</h4>
                            <p class="text-sm text-slate-600 mb-2">Access high-quality courses from top universities for free by selecting the "Audit" option.</p>
                            <a href="https://www.coursera.org/" target="_blank" class="text-xs font-mono bg-red-50 text-red-600 p-1 rounded hover:bg-red-100 transition-colors">Resource: Coursera</a>
                        </div>
                         <div class="bg-white p-6 rounded-xl border border-slate-200">
                            <h4 class="text-gray-800 font-bold mb-2">7. Book Recommendation</h4>
                            <p class="text-sm text-slate-600 mb-2">"Python for Data Analysis" by Wes McKinney (Creator of Pandas). The definitive guide.</p>
                            <a href="https://wesmckinney.com/book/" target="_blank" class="text-xs font-mono bg-gray-100 text-gray-800 p-1 rounded hover:bg-gray-200 transition-colors">Resource: Read Online</a>
                        </div>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('faq')" class="next-btn">Next: FAQ &rarr;</button>
                    </div>
                </div>

                <!-- Resources: FAQ -->
                <div id="faq" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1512314889357-e157c22f938d?auto=format&fit=crop&w=1200&q=80" alt="FAQ" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Frequently Asked Questions</h2>
                    <!-- ... Content ... -->
                     <div class="space-y-4 mt-8">
                        <details class="bg-white p-4 rounded-lg border border-slate-200">
                            <summary class="font-bold cursor-pointer flex justify-between">
                                Q: "ModuleNotFoundError: No module named pandas"
                                <span class="text-blue-500">+</span>
                            </summary>
                            <p class="mt-2 text-sm text-slate-600">You haven't installed the library. Open your terminal/command prompt and run: <code>pip install pandas</code> or <code>conda install pandas</code>.</p>
                        </details>
                        <details class="bg-white p-4 rounded-lg border border-slate-200">
                            <summary class="font-bold cursor-pointer flex justify-between">
                                Q: Why use Jupyter over IDLE?
                                <span class="text-blue-500">+</span>
                            </summary>
                            <p class="mt-2 text-sm text-slate-600">Jupyter allows you to see the output of code immediately below the cell and supports markdown text for explanations. It is the standard for Data Science storytelling.</p>
                        </details>
                        <details class="bg-white p-4 rounded-lg border border-slate-200">
                            <summary class="font-bold cursor-pointer flex justify-between">
                                Q: What is the "SettingWithCopyWarning"?
                                <span class="text-blue-500">+</span>
                            </summary>
                            <p class="mt-2 text-sm text-slate-600">This happens when you filter a DataFrame (e.g., <code>df[df['A']>5]</code>) and then try to modify it immediately. Pandas isn't sure if you want to modify the original or the copy. Fix: Use <code>.copy()</code> explicitly: <code>new_df = df[df['A']>5].copy()</code>.</p>
                        </details>
                        <details class="bg-white p-4 rounded-lg border border-slate-200">
                            <summary class="font-bold cursor-pointer flex justify-between">
                                Q: What does `inplace=True` do?
                                <span class="text-blue-500">+</span>
                            </summary>
                            <p class="mt-2 text-sm text-slate-600">By default, pandas returns a <em>new</em> modified object and leaves the original untouched. <code>inplace=True</code> modifies the original object directly to save memory. Example: <code>df.drop('col', axis=1, inplace=True)</code>.</p>
                        </details>
                        <details class="bg-white p-4 rounded-lg border border-slate-200">
                            <summary class="font-bold cursor-pointer flex justify-between">
                                Q: Difference between `merge` and `concat`?
                                <span class="text-blue-500">+</span>
                            </summary>
                            <p class="mt-2 text-sm text-slate-600"><code>merge</code> joins data horizontally based on a Key (like SQL JOIN). <code>concat</code> stacks data vertically (adding more rows) or horizontally (adding columns) purely by position.</p>
                        </details>
                         <details class="bg-white p-4 rounded-lg border border-slate-200">
                            <summary class="font-bold cursor-pointer flex justify-between">
                                Q: What is the difference between `axis=0` and `axis=1`?
                                <span class="text-blue-500">+</span>
                            </summary>
                            <p class="mt-2 text-sm text-slate-600"><code>axis=0</code> usually refers to rows (or the index), meaning the operation goes down the DataFrame (e.g., mean of a column). <code>axis=1</code> refers to columns, meaning the operation goes across the DataFrame (e.g., mean of a row).</p>
                        </details>
                        <details class="bg-white p-4 rounded-lg border border-slate-200">
                            <summary class="font-bold cursor-pointer flex justify-between">
                                Q: Matplotlib vs. Seaborn?
                                <span class="text-blue-500">+</span>
                            </summary>
                            <p class="mt-2 text-sm text-slate-600">Matplotlib is the foundation; it's powerful but verbose. Seaborn is built on top of Matplotlib; it's easier to use, has better default styles, and is designed specifically for statistical plots.</p>
                        </details>
                         <details class="bg-white p-4 rounded-lg border border-slate-200">
                            <summary class="font-bold cursor-pointer flex justify-between">
                                Q: How do I handle "NaN" values?
                                <span class="text-blue-500">+</span>
                            </summary>
                            <p class="mt-2 text-sm text-slate-600">You can drop them using <code>dropna()</code> or fill them using <code>fillna()</code> (with a mean, median, or zero). Advanced methods include interpolation (Topic 8).</p>
                        </details>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('glossary')" class="next-btn">Next: Glossary &rarr;</button>
                    </div>
                </div>
                
                <!-- Resources: Glossary -->
                <div id="glossary" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1516116216624-53e697fedbea?auto=format&fit=crop&w=1200&q=80" alt="Glossary" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>Glossary</h2>
                    <!-- ... Content ... -->
                    <div class="grid md:grid-cols-2 gap-6 mt-6">
                        <div class="bg-white p-4 rounded-lg border border-slate-200">
                            <h4 class="font-bold text-slate-900">Vectorization</h4>
                            <p class="text-sm text-slate-600">Performing operations on entire arrays at once (simultaneous), rather than one by one (iterative). Key to Python's speed.</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-slate-200">
                            <h4 class="font-bold text-slate-900">DataFrame</h4>
                            <p class="text-sm text-slate-600">A 2-dimensional labeled data structure with columns of potentially different types (like a spreadsheet).</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-slate-200">
                            <h4 class="font-bold text-slate-900">Imputation</h4>
                            <p class="text-sm text-slate-600">The process of replacing missing data with substituted values (like mean, median, or interpolated values).</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-slate-200">
                            <h4 class="font-bold text-slate-900">Broadcasting</h4>
                            <p class="text-sm text-slate-600">NumPy's ability to perform arithmetic on arrays of different shapes (e.g., adding a scalar to a matrix).</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-slate-200">
                            <h4 class="font-bold text-slate-900">Feature Engineering</h4>
                            <p class="text-sm text-slate-600">Creating new meaningful variables from existing data (e.g., calculating "Growth Rate" from raw "GDP" values).</p>
                        </div>
                         <div class="bg-white p-4 rounded-lg border border-slate-200">
                            <h4 class="font-bold text-slate-900">Method Chaining</h4>
                            <p class="text-sm text-slate-600">Calling multiple methods sequentially on the same object in a single line of code (e.g., <code>df.groupby().mean().sort_values()</code>).</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-slate-200">
                            <h4 class="font-bold text-slate-900">Boolean Indexing</h4>
                            <p class="text-sm text-slate-600">Selecting subsets of data based on the actual values of the data rather than their row/column labels or integer positions (e.g., <code>df[df['Value'] > 10]</code>).</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg border border-slate-200">
                            <h4 class="font-bold text-slate-900">Correlation</h4>
                            <p class="text-sm text-slate-600">A statistical measure that expresses the extent to which two variables are linearly related (meaning they change together at a constant rate).</p>
                        </div>
                    </div>

                    <div class="next-btn-container">
                        <button onclick="switchTopic('references')" class="next-btn">Next: References &rarr;</button>
                    </div>
                </div>

                <!-- Resources: References -->
                <div id="references" class="topic-panel hidden">
                    <img src="https://images.unsplash.com/photo-1532012197267-da84d127e765?auto=format&fit=crop&w=1200&q=80" alt="References" class="w-full h-48 object-cover rounded-2xl mb-8 shadow-sm">
                    <h2>References (APA 7)</h2>
                    <ul class="space-y-4 mt-6">
                        <li class="bg-white p-4 rounded-lg border border-slate-200 text-sm">
                            <strong>McKinney, W. (2010).</strong> Data Structures for Statistical Computing in Python. <em>Proceedings of the 9th Python in Science Conference</em>.
                        </li>
                        <li class="bg-white p-4 rounded-lg border border-slate-200 text-sm">
                            <strong>Harris, C. R., et al. (2020).</strong> Array programming with NumPy. <em>Nature</em>, 585, 357‚Äì362. <a href="https://doi.org/10.1038/s41586-020-2649-2" target="_blank" class="text-blue-600 underline">https://doi.org/10.1038/s41586-020-2649-2</a>
                        </li>
                        <li class="bg-white p-4 rounded-lg border border-slate-200 text-sm">
                            <strong>International Monetary Fund. (2023).</strong> <em>World Economic Outlook Database</em>. Washington, D.C.: IMF. Retrieved from <a href="https://www.imf.org/en/Publications/WEO" target="_blank" class="text-blue-600 underline">IMF.org</a>
                        </li>
                        <li class="bg-white p-4 rounded-lg border border-slate-200 text-sm">
                            <strong>VanderPlas, J. (2016).</strong> <em>Python Data Science Handbook: Essential Tools for Working with Data</em>. O'Reilly Media.
                        </li>
                    </ul>
                </div>

            </div>
        </main>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Navigation Logic ---
        let currentTopic = 'home';
        const navLinks = document.querySelectorAll('.nav-link');
        const homeLink = document.getElementById('home-link');
        const getStartedBtn = document.getElementById('get-started-btn');
        const mainHeader = document.getElementById('main-header');
        const topicPanels = document.querySelectorAll('.topic-panel');
        const menuBtn = document.getElementById('menu-btn');
        const closeMenuBtn = document.getElementById('close-menu');
        const sidebar = document.getElementById('sidebar');
        const overlay = document.getElementById('overlay');
        const backToTopBtn = document.getElementById('back-to-top');
        const mainContent = document.getElementById('main-content');
        const desktopThemeToggle = document.getElementById('desktop-theme-toggle');
        const mobileThemeToggle = document.getElementById('mobile-theme-toggle');

        // --- Dark Mode Logic ---
        function toggleDarkMode() {
            document.body.classList.toggle('dark');
            const isDark = document.body.classList.contains('dark');
            
            // Update icons
            document.querySelectorAll('.moon-icon').forEach(icon => icon.classList.toggle('hidden', isDark));
            document.querySelectorAll('.sun-icon').forEach(icon => icon.classList.toggle('hidden', !isDark));
            
            // Update Chart.js defaults
            const textColor = isDark ? '#94a3b8' : '#64748b';
            const gridColor = isDark ? '#333333' : '#e2e8f0';
            
            Chart.defaults.color = textColor;
            Chart.defaults.borderColor = gridColor;
            
            // Update all chart instances
            Chart.helpers.each(Chart.instances, function(instance) {
                if (instance.options.scales.x) instance.options.scales.x.title.color = textColor;
                if (instance.options.scales.y) instance.options.scales.y.title.color = textColor;
                instance.update();
            });
        }

        if (desktopThemeToggle) desktopThemeToggle.addEventListener('click', toggleDarkMode);
        if (mobileThemeToggle) mobileThemeToggle.addEventListener('click', toggleDarkMode);


        function toggleMenu() {
            sidebar.classList.toggle('open');
            overlay.classList.toggle('open');
        }

        menuBtn.addEventListener('click', toggleMenu);
        closeMenuBtn.addEventListener('click', toggleMenu);
        overlay.addEventListener('click', toggleMenu);

        // Make switchTopic globally available
        window.switchTopic = function(targetTopic) {
            if (targetTopic === currentTopic) return;

            // Update Active State
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            if (targetTopic !== 'home') {
                const activeLink = document.querySelector(`.nav-link[data-topic="${targetTopic}"]`);
                if (activeLink) activeLink.classList.add('active');
                // Main header is now always visible, so we don't toggle it here
            } 

            // Swap Panels
            topicPanels.forEach(panel => panel.classList.add('hidden'));
            document.getElementById(targetTopic).classList.remove('hidden');
            currentTopic = targetTopic;

            // Scroll to top
            mainContent.scrollTo({top: 0, behavior: 'auto'});
            mainContent.scrollTop = 0; // Force immediate scroll to top

            // Close mobile menu if open
            if(sidebar.classList.contains('open')) toggleMenu();
        }

        navLinks.forEach(link => link.addEventListener('click', (e) => {
            e.preventDefault();
            switchTopic(e.target.dataset.topic);
        }));

        homeLink.addEventListener('click', (e) => {
            e.preventDefault();
            switchTopic('home');
        });

        getStartedBtn.addEventListener('click', () => switchTopic('topic1'));

        backToTopBtn.addEventListener('click', () => {
            mainContent.scrollTo({top: 0, behavior: 'smooth'});
        });

        // --- Copy Button Logic (Robust Fallback) ---
        document.querySelectorAll('.copy-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const codeBlock = btn.nextElementSibling;
                if (codeBlock) {
                    const code = codeBlock.innerText;
                    const textarea = document.createElement('textarea');
                    textarea.value = code;
                    textarea.style.position = 'fixed'; // Avoid scrolling to bottom
                    textarea.style.opacity = '0'; 
                    document.body.appendChild(textarea);
                    textarea.select();
                    
                    try {
                        const successful = document.execCommand('copy');
                        const msg = successful ? 'Copied!' : 'Failed';
                        const originalText = btn.innerText;
                        btn.innerText = msg;
                        setTimeout(() => btn.innerText = originalText, 2000);
                    } catch (err) {
                        console.error('Copy failed', err);
                    }
                    document.body.removeChild(textarea);
                }
            });
        });

        // --- Chart Initialization ---
        
        // 1. WEO Scatter Chart
        new Chart(document.getElementById('weoChart'), {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Countries (2023)',
                    data: [
                        {x: 7.2, y: 5.4}, {x: 2.1, y: 3.2}, {x: 5.2, y: 0.2}, {x: -0.3, y: 6.1}
                    ],
                    backgroundColor: '#2563eb'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { title: {display: true, text: 'GDP Growth (%)'} },
                    y: { title: {display: true, text: 'Inflation (%)'} }
                },
                plugins: { title: {display: true, text: 'Phillips Curve Analysis'} }
            }
        });

        // 2. Trade Chart (Updated to Stacked Bar to match Pivot Table Code)
        new Chart(document.getElementById('tradeChart'), {
            type: 'bar',
            data: {
                labels: ['China', 'India'],
                datasets: [
                    {
                        label: 'Pharma',
                        data: [20, 50],
                        backgroundColor: '#ef4444'
                    },
                    {
                        label: 'Tech',
                        data: [500, 200],
                        backgroundColor: '#3b82f6'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: { stacked: true },
                    y: { stacked: true, title: {display: true, text: 'Value (Billions)'} }
                },
                plugins: { title: {display: true, text: 'Trade Matrix: Sectoral Composition'} }
            }
        });

        // 3. Time Series
        new Chart(document.getElementById('timeSeriesChart'), {
            type: 'line',
            data: {
                labels: ['2020', '2021', '2022', '2023'],
                datasets: [{
                    label: 'GDP (Trillion USD)',
                    data: [2.5, 3.0, 3.2, 3.7],
                    borderColor: '#4f46e5',
                    tension: 0.3
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false
            }
        });

        // 4. Kendrick Sentiment Chart
        new Chart(document.getElementById('kendrickChart'), {
            type: 'line',
            data: {
                labels: ['Track 1', 'Track 2', 'Track 3', 'Track 4', 'Track 5', 'Track 6', 'Track 7', 'Track 8', 'Track 9', 'Track 10', 'Track 11', 'Track 12'],
                datasets: [
                    {
                        label: 'Forward (Wickedness)',
                        data: [null, null, 50, 70, 50, 56, 40, 56, 46, 56, 55, 38], // Rolling avg data
                        borderColor: '#2563eb',
                        tension: 0.4,
                        fill: false
                    },
                    {
                        label: 'Reverse (Weakness)',
                        data: [null, null, 33, 48, 38, 58, 68, 56, 56, 56, 73, 53], // Reversed rolling avg data
                        borderColor: '#dc2626',
                        tension: 0.4,
                        fill: false
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Narrative Arc Analysis: Rolling Avg Sentiment' },
                    tooltip: { mode: 'index', intersect: false }
                },
                scales: {
                    y: { title: {display: true, text: 'Aggression Score (Smoothed)'}, min: 0, max: 100 }
                }
            }
        });

        // 5. CAPSTONE: Grammy Evolution Chart (Advanced Stacked Area)
        new Chart(document.getElementById('grammyChart'), {
            type: 'line',
            data: {
                labels: ['1965', '1975', '1985', '1995', '2005', '2015', '2024'],
                datasets: [
                    {
                        label: 'Rock',
                        data: [40, 45, 35, 25, 20, 15, 10],
                        backgroundColor: 'rgba(59, 130, 246, 0.5)', // Blue
                        borderColor: '#3b82f6',
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'R&B',
                        data: [20, 25, 30, 30, 35, 30, 30],
                        backgroundColor: 'rgba(236, 72, 153, 0.5)', // Pink
                        borderColor: '#ec4899',
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Hip-Hop',
                        data: [0, 0, 5, 20, 30, 35, 40],
                        backgroundColor: 'rgba(168, 85, 247, 0.5)', // Purple
                        borderColor: '#a855f7',
                        fill: true,
                        tension: 0.4
                    },
                    {
                        label: 'Pop',
                        data: [30, 20, 25, 20, 10, 15, 15],
                        backgroundColor: 'rgba(234, 179, 8, 0.5)', // Yellow
                        borderColor: '#eab308',
                        fill: true,
                        tension: 0.4
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: {
                    mode: 'nearest',
                    axis: 'x',
                    intersect: false
                },
                plugins: {
                    title: { display: true, text: 'Share of Grammy Nominations by Genre (Area Chart)' },
                    tooltip: {
                         callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.raw + '% Share';
                            }
                        }
                    }
                },
                scales: {
                    x: { title: { display: true, text: 'Year' } },
                    y: { 
                        stacked: true, 
                        title: { display: true, text: 'Market Share (%)' },
                        max: 100
                    }
                }
            }
        });
    });
</script>

</body>
</html>
